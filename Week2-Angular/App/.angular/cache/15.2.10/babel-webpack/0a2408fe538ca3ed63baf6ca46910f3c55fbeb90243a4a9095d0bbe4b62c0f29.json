{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MovieComponent = class MovieComponent {\n  constructor(movieService, user, router, rateService) {\n    this.movieService = movieService;\n    this.user = user;\n    this.router = router;\n    this.rateService = rateService;\n    this.votingOpen = false;\n    this.movies = this.movieService.getMovies();\n    this.isAdmin = user.getIsAdmin();\n    this.isValid = user.getIsLoggedIn();\n    this.username = user.currentUser;\n  }\n  onAddMovie() {\n    this.router.navigate(['/add-movie']);\n  }\n  onRemoveMovie(movie) {\n    this.movies = this.movieService.deleteMovie(movie);\n  }\n  onLogOut() {\n    this.user.currentUser = \"\";\n    this.isValid = false;\n    this.router.navigate(['']);\n    return this.isValid;\n  }\n  onVote() {\n    this.votingOpen = true;\n  }\n  onSavingVote(movie) {\n    movie = this.movieService.addRating(movie);\n    this.votingOpen = false;\n  }\n};\nMovieComponent = __decorate([Component({\n  selector: 'app-movie',\n  templateUrl: './movie.component.html',\n  styleUrls: ['./movie.component.css']\n})], MovieComponent);\nexport { MovieComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAclC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EASzBC,YAAoBC,YAA2B,EAAUC,IAAgB,EAAUC,MAAa,EAAUC,WAAyB;IAA/G,iBAAY,GAAZH,YAAY;IAAyB,SAAI,GAAJC,IAAI;IAAsB,WAAM,GAANC,MAAM;IAAiB,gBAAW,GAAXC,WAAW;IAHrH,eAAU,GAAS,KAAK;IAItB,IAAI,CAACC,MAAM,GAAG,IAAI,CAACJ,YAAY,CAACK,SAAS,EAAE;IAC3C,IAAI,CAACC,OAAO,GAACL,IAAI,CAACM,UAAU,EAAE;IAC9B,IAAI,CAACC,OAAO,GAACP,IAAI,CAACQ,aAAa,EAAE;IACjC,IAAI,CAACC,QAAQ,GAACT,IAAI,CAACU,WAAW;EAClC;EACAC,UAAU;IACR,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;EACAC,aAAa,CAACC,KAAW;IAEvB,IAAI,CAACX,MAAM,GAAC,IAAI,CAACJ,YAAY,CAACgB,WAAW,CAACD,KAAK,CAAC;EAChD;EAEFE,QAAQ;IACN,IAAI,CAAChB,IAAI,CAACU,WAAW,GAAC,EAAE;IACxB,IAAI,CAACH,OAAO,GAAC,KAAK;IAClB,IAAI,CAACN,MAAM,CAACW,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B,OAAO,IAAI,CAACL,OAAO;EACnB;EAEAU,MAAM;IACJ,IAAI,CAACC,UAAU,GAAC,IAAI;EACtB;EAEEC,YAAY,CAACL,KAAW;IACtBA,KAAK,GAAC,IAAI,CAACf,YAAY,CAACqB,SAAS,CAACN,KAAK,CAAC;IAC9C,IAAI,CAACI,UAAU,GAAC,KAAK;EACjB;CAEH;AAvCYrB,cAAc,eAL1BD,SAAS,CAAC;EACTyB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACW1B,cAAc,CAuC1B;SAvCYA,cAAc","names":["Component","MovieComponent","constructor","movieService","user","router","rateService","movies","getMovies","isAdmin","getIsAdmin","isValid","getIsLoggedIn","username","currentUser","onAddMovie","navigate","onRemoveMovie","movie","deleteMovie","onLogOut","onVote","votingOpen","onSavingVote","addRating","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Facultate\\Internship\\Week2-Angular\\Ex2-MovieApp\\src\\app\\components\\movie\\movie.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MovieService } from 'src/app/services/movie.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { Router } from '@angular/router';\nimport { movie } from 'src/app/models/movie';\nimport { FormControl } from '@angular/forms';\nimport { RatingService } from 'src/app/services/rating.service';\nimport { StarRatingComponent } from '../star-rating/star-rating.component';\n\n@Component({\n  selector: 'app-movie',\n  templateUrl: './movie.component.html',\n  styleUrls: ['./movie.component.css']\n})\nexport class MovieComponent {\n\n  movies: movie[];\n  isAdmin:boolean;\n  isValid:boolean;\n  username:string;\n  votingOpen:boolean=false;\n\n\n  constructor(private movieService:  MovieService, private user:AuthService, private router:Router, private rateService:RatingService) {\n    this.movies = this.movieService.getMovies();\n    this.isAdmin=user.getIsAdmin();\n    this.isValid=user.getIsLoggedIn();\n    this.username=user.currentUser;\n}\nonAddMovie(){\n  this.router.navigate(['/add-movie']);\n}\nonRemoveMovie(movie:movie) {\n\n  this.movies=this.movieService.deleteMovie(movie);\n  }\n\nonLogOut() {\n  this.user.currentUser=\"\";\n  this.isValid=false;\n  this.router.navigate(['']);\n  return this.isValid;\n  }\n\n  onVote() {\n    this.votingOpen=true;\n  }\n\n    onSavingVote(movie:movie){\n      movie=this.movieService.addRating(movie);\nthis.votingOpen=false;\n    }\n\n}\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}